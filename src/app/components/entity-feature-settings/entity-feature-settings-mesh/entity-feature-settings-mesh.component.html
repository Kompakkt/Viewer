@if (processing.settings$ | async; as settings) {
<k-details [title]="'Information & Helpers' | translate">
  <k-button (click)="resetVisualUIMeshSettingsHelper()" type="outlined---color-grey-4">
    {{ 'Reset Helper' | translate }}
  </k-button>

  <k-details [title]="'Bounding Boxes' | translate">
    <k-labelled-checkbox
      [label]="'Show entity bounding boxes' | translate"
      (checkedChange)="setBoundingBoxEntityVisibility($event)"
    />

    <k-labelled-checkbox
      [label]="'Show mesh bounding boxes' | translate"
      (checkedChange)="setBoundingBoxMeshesVisibility($event)"
    />

    @if (meshes$ | async; as meshes) {
    <small>{{ 'Number of meshes:' | translate }} {{ meshes.length }}</small>
    }
  </k-details>

  <k-details [title]="'Background' | translate">
    <color-chrome (onChange)="setBackgroundColor($event.color.rgb)"></color-chrome>
  </k-details>

  <k-details [title]="'Axis' | translate">
    <k-labelled-checkbox
      [label]="'Show World Axis' | translate"
      (checkedChange)="setAxesVisibility('worldAxis', $event)"
    />

    <k-slider
      [label]="'World Axis Size' | translate"
      [min]="0.1"
      [max]="3"
      [startingValue]="worldAxisScalingFactor"
      (valueChanged)="setScalingFactorAxis($event, 'world')"
    />

    <k-labelled-checkbox
      [label]="'Show Local Axis' | translate"
      (checkedChange)="setAxesVisibility('localAxis', $event)"
    />

    <k-slider
      [label]="'Local Axis Size' | translate"
      [min]="0.1"
      [max]="3"
      [startingValue]="localAxisScalingFactor"
      (valueChanged)="setScalingFactorAxis($event, 'local')"
    />
  </k-details>

  <k-details [title]="'Ground' | translate">
    <k-labelled-checkbox
      [label]="'Show Ground' | translate"
      (checkedChange)="setGroundVisibility($event)"
    />

    <k-slider
      [label]="'Ground Size' | translate"
      [min]="0"
      [max]="10"
      [startingValue]="groundScalingFactor"
      (valueChanged)="setScalingFactorGround($event)"
    />

    <small>{{ 'Ground Color' | translate }}</small>
    <color-chrome (onChange)="entitySettings.setGroundMaterial($event.color.rgb)"></color-chrome>
  </k-details>
</k-details>

<k-details [title]="'Scale' | translate">
  <k-button (click)="handleChangeDimension('scale', 1)" type="outlined---color-grey-4">
    {{ 'Reset Size' | translate }}
  </k-button>

  <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px">
    <k-input
      [label]="'Height:' | translate"
      [min]="0"
      [max]="entitySettings.initialSize.y * 5"
      [startingValue]="processing.entityHeight"
      type="number"
      (valueChanged)="handleChangeDimension('height', $event.valueAsNumber)"
      suffix="cm"
    />
    <k-input
      [label]="'Width:' | translate"
      [min]="0"
      [max]="entitySettings.initialSize.x * 5"
      [startingValue]="processing.entityWidth"
      type="number"
      (valueChanged)="handleChangeDimension('width', $event.valueAsNumber)"
      suffix="cm"
    />
    <k-input
      [label]="'Depth:' | translate"
      [min]="0"
      [max]="entitySettings.initialSize.z * 5"
      [startingValue]="processing.entityDepth"
      type="number"
      (valueChanged)="handleChangeDimension('depth', $event.valueAsNumber)"
      suffix="cm"
    />
  </div>

  <k-slider
    [label]="('Scale factor:' | translate) + ' ' + (settings.localSettings.scale || 1)"
    [min]="0.1"
    [max]="5"
    [step]="0.1"
    [startingValue]="settings.localSettings.scale || 1"
    (valueChanged)="handleChangeDimension('scale', $event)"
  />
</k-details>

<k-details [title]="'Rotation' | translate">
  <k-button (click)="setRotation('xyz_reset', 0)" type="outlined---color-grey-4">
    {{ 'Reset Rotation' | translate }}
  </k-button>

  <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px">
    <k-input
      [label]="'X Axis' | translate"
      [min]="0"
      [max]="360"
      type="number"
      suffix="°"
      [startingValue]="settings.localSettings.rotation.x"
      (valueChanged)="setRotation('x', $event.valueAsNumber)"
    />

    <k-input
      [label]="'Y Axis' | translate"
      [min]="0"
      [max]="360"
      type="number"
      suffix="°"
      [startingValue]="settings.localSettings.rotation.y"
      (valueChanged)="setRotation('y', $event.valueAsNumber)"
    />

    <k-input
      [label]="'Z Axis' | translate"
      [min]="0"
      [max]="360"
      type="number"
      suffix="°"
      [startingValue]="settings.localSettings.rotation.z"
      (valueChanged)="setRotation('z', $event.valueAsNumber)"
    />
  </div>
</k-details>

}
