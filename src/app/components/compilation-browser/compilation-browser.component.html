<div id="compilationBrowser">
  <div *ngIf="compilation$ | async as compilation">
    <div id="entity-overview" *ngIf="entity$ | async as entity">
      <mat-card class="white-mat-card entity-card">
        <mat-card-header>
          <mat-card-title> Selected Object: {{ entity.name }} </mat-card-title>
        </mat-card-header>
        <img
          *ngIf="entity.settings && entity.settings.preview"
          [src]="server_url + entity.settings.preview"
        />
      </mat-card>
    </div>

    <ng-container *ngIf="entities$ | async as entities">
      <div class="category">
        Object{{ entities.length > 1 ? 's' : '' }} in {{ compilation.name }}:
      </div>

      <mat-card class="white-mat-card entity-card" *ngFor="let entity of entities">
        <mat-card-header>
          <mat-card-title>
            {{ entity.name }}
          </mat-card-title>
        </mat-card-header>
        <img
          *ngIf="entity.settings && entity.settings.preview"
          [src]="server_url + entity.settings.preview"
          (click)="processing.fetchAndLoad(entity._id, undefined)"
        />
      </mat-card>
    </ng-container>
  </div>
</div>
